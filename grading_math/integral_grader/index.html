<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="shortcut icon" href="../../img/favicon.ico">

    <title>IntegralGrader - MITxGraders</title>

    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">


    <link href="../../css/extra.css" rel="stylesheet">


    <link href="../../css/cinder_tweaks.css" rel="stylesheet">


    <link href="../../css/readthedocs.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            <a class="navbar-brand" href="../..">MITxGraders</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Getting Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../..">Overview</a>
</li>

                        
                            
<li >
    <a href="../../edx/">edX Syntax</a>
</li>

                        
                            
<li >
    <a href="../../graders/">Introduction to Graders</a>
</li>

                        
                            
<li >
    <a href="../../item_grader/">ItemGrader</a>
</li>

                        
                            
<li >
    <a href="../../string_grader/">StringGrader</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Grading Math <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../formula_grader/">FormulaGrader</a>
</li>

                        
                            
<li >
    <a href="../numerical_grader/">NumericalGrader</a>
</li>

                        
                            
<li >
    <a href="../matrix_grader/matrix_grader/">MatrixGrader</a>
</li>

                        
                            
<li >
    <a href="../sampling/">Sampling Sets</a>
</li>

                        
                            
<li >
    <a href="../functions_and_constants/">Functions and Constants List</a>
</li>

                        
                            
<li >
    <a href="../user_functions/">User-Defined Functions</a>
</li>

                        
                            
<li >
    <a href="../comparer_functions/">Comparer Functions</a>
</li>

                        
                            
<li >
    <a href="../renderer/">AsciiMath Renderer Definitions</a>
</li>

                        
                            
<li class="active">
    <a href="./">IntegralGrader</a>
</li>

                        
                            
<li >
    <a href="../sum_grader/">SumGrader</a>
</li>

                        
                            
<li >
    <a href="../interval_grader/">IntervalGrader</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Grading Lists <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../grading_lists/single_list_grader/">SingleListGrader</a>
</li>

                        
                            
<li >
    <a href="../../grading_lists/list_grader/">ListGrader</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../plugins/">Plugins</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../faq/">FAQs</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../changelog/">Changelog</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fa fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../renderer/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../sum_grader/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/mitodl/mitx-grading-library"><i class="fa fa-github"></i> GitHub</a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#integralgrader">IntegralGrader</a></li>
            <li class="second-level"><a href="#xml-setup">XML Setup</a></li>
                
            <li class="second-level"><a href="#specifying-the-input-format">Specifying the Input Format</a></li>
                
            <li class="second-level"><a href="#specifying-the-answer">Specifying the Answer</a></li>
                
            <li class="second-level"><a href="#other-options">Other Options</a></li>
                
            <li class="second-level"><a href="#option-listing">Option Listing</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="integralgrader">IntegralGrader<a class="headerlink" href="#integralgrader" title="Permanent link"> # </a></h1>
<p><code>IntegralGrader</code> is a specialized grading class used to grade the construction of integrals. Students can input the limits on the integral, the variable of integration, and the integrand (or some subset thereof), and will be graded correct if their construction is numerically equivalent to the instructor's construction. This method of grading allows for arbitrary variable substitutions and redefinitions.</p>
<p>The grader numerically evaluates the student- and instructor-specified integrals using <code>scipy.integrate.quad</code>. This quadrature-based integration technique is efficient and flexible. It handles many integrals with poles in the integrand and can integrate over infinite domains.</p>
<p>However, some integrals may behave badly. These include, but are not limited to,
the following:</p>
<ul>
<li>integrals with highly oscillatory integrands</li>
<li>integrals that evaluate analytically to zero</li>
</ul>
<p>In some cases, problems might be avoided by using the integrator_options configuration key to provide extra instructions to <code>scipy.integrate.quad</code>, as documented below.</p>
<h2 id="xml-setup">XML Setup<a class="headerlink" href="#xml-setup" title="Permanent link"> # </a></h2>
<p>We recommend copying the following XML to set up a problem using <code>IntegralGrader</code>:</p>
<pre class="codehilite"><code class="language-XML">&lt;style&gt;
  .xmodule_display.xmodule_CapaModule .problem .capa_inputtype.textline input {
    min-width: 0 !important;
  }
  .xmodule_display.xmodule_CapaModule div.problem section div span.MathJax {
    display: inline-block !important;
  }
  .xmodule_display.xmodule_CapaModule div.problem section div span.MathJax_Preview {
    display: inline-block !important;
  }
&lt;/style&gt;

&lt;span&gt;
  &lt;customresponse cfn=&quot;grader&quot;&gt;
    &lt;table&gt;
      &lt;col style=&quot;width:10%&quot;/&gt;
      &lt;col style=&quot;width:90%&quot;/&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td colspan=&quot;2&quot;&gt;
            &lt;textline size=&quot;5&quot; correct_answer=&quot;1&quot;/&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;
            &lt;p&gt; \( \displaystyle \huge{ \int }\)&lt;/p&gt;
          &lt;/td&gt;
          &lt;td&gt;
            &lt;br/&gt;
            &lt;textline inline=&quot;1&quot; size=&quot;10&quot; correct_answer=&quot;e^x&quot; trailing_text=&quot;  [mathjaxinline] dx [/mathjaxinline]&quot;/&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td colspan=&quot;2&quot;&gt;
            &lt;textline size=&quot;5&quot; correct_answer=&quot;0&quot;/&gt;
          &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/customresponse&gt;
&lt;/span&gt;
</code></pre>

<p>This sets up an integral where students can input the limits of integration and the integrand (the variable of integration has been fixed to be <code>x</code> in this case).</p>
<p>Further examples of formatting integrals are shown in the example course.</p>
<h2 id="specifying-the-input-format">Specifying the Input Format<a class="headerlink" href="#specifying-the-input-format" title="Permanent link"> # </a></h2>
<p>The grader must be told which input is what, based on the order that the inputs appear in the XML. This is done through the <code>input_positions</code> dictionary. If not specified, it is assumed that the following positions are used:</p>
<pre class="codehilite"><code class="language-python">input_positions = {
    'lower': 1,
    'upper': 2,
    'integrand': 3,
    'integration_variable': 4
}
</code></pre>

<p>This requires students to enter all four parameters in the indicated order.</p>
<p>If the author overrides the default <code>input_positions</code> value, any subset of the keys ('lower', 'upper', 'integrand', 'integration_variable') may be specified. Key values should be</p>
<ul>
<li>continuous integers starting at 1, or</li>
<li>(default) None, indicating that the parameter is not entered by student</li>
</ul>
<p>For example,</p>
<pre class="codehilite"><code class="language-python">input_positions = {
    'lower': 1,
    'upper': 2,
    'integrand': 3
}
</code></pre>

<p>indicates that the problem has 3 input boxes which represent the lower limit, upper limit, and integrand in that order. The <code>integration_variable</code> is NOT entered by student and is instead given by the value specified by author in 'answers'.</p>
<p>Here is a sample grader for the above XML:</p>
<pre class="codehilite"><code class="language-pycon">&gt;&gt;&gt; from mitxgraders import *
&gt;&gt;&gt; grader = IntegralGrader(
...     answers={
...         'lower':'0',
...         'upper':'1',
...         'integrand':'e^x',
...         'integration_variable':'x'
...     },
...     input_positions = {
...         'upper': 1,
...         'integrand': 2,
...         'lower': 3
...     }
... )
</code></pre>

<p>Note that when students specify their own variable of integration, it must not conflict with a variable already present in the problem.</p>
<h2 id="specifying-the-answer">Specifying the Answer<a class="headerlink" href="#specifying-the-answer" title="Permanent link"> # </a></h2>
<p>The author's answer should be specified as a dictionary with the following keys:</p>
<pre class="codehilite"><code class="language-python">answers = {
    'lower': 'lower_limit',
    'upper': 'upper_limit',
    'integrand': 'integrand',
    'integration_variable': 'variable_of_integration'
}
</code></pre>

<p>Note that each entry is a string value.</p>
<p><code>IntegralGrader</code> can handle integrals over both finite and infinite domains. A special constant <code>'infty'</code> is recognized to cater for the infinite case (and takes on the special value <code>float('inf')</code>).</p>
<h2 id="other-options">Other Options<a class="headerlink" href="#other-options" title="Permanent link"> # </a></h2>
<p>If you wish to allow a student's integrand to be complex-valued at any point in the domain of the integral, set <code>complex_integrand=True</code>. If set to False (the default), a student's submission will be graded as incorrect if their integrand becomes complex anywhere in the domain.</p>
<p>You can modify the integration options used by <a href="https://docs.scipy.org/doc/scipy-0.16.1/reference/generated/scipy.integrate.quad.html"><code>scipy.integrate.quad</code></a> by passing a dictionary of keyword-argument values using the option <code>integrator_options</code>.</p>
<p>The following options from <code>FormulaGrader</code> are available for use in <code>IntegralGrader</code>:</p>
<ul>
<li><code>user_constants</code></li>
<li><code>user_functions</code></li>
<li><code>whitelist</code></li>
<li><code>blacklist</code></li>
<li><code>tolerance</code></li>
<li><code>samples</code> (default: 1)</li>
<li><code>variables</code></li>
<li><code>sample_from</code></li>
<li><code>failable_evals</code></li>
<li><code>numbered_vars</code></li>
<li><code>instructor_vars</code></li>
<li><code>forbidden_strings</code></li>
<li><code>forbidden_message</code></li>
<li><code>required_functions</code></li>
<li><code>metric_suffixes</code></li>
</ul>
<p>Unless otherwise specified, the defaults are the same as in <code>FormulaGrader</code>.</p>
<h2 id="option-listing">Option Listing<a class="headerlink" href="#option-listing" title="Permanent link"> # </a></h2>
<p>Here is the full list of options specific to an <code>IntegralGrader</code>.</p>
<pre class="codehilite"><code class="language-python">grader = IntegralGrader(
    input_positions=dict,
    answers=dict,
    integrator_options=dict,  # default {'full_output': 1}
    complex_integrand=bool,  # default False
    # The below options are the same as in FormulaGrader
    variables=list,  # default []
    sample_from=dict,  # default {}
    samples=int,  # default 1
    user_functions=dict,  # default {}
    user_constants=dict,  # default {}
    failable_evals=int,  # default 0
    blacklist=list,  # default []
    whitelist=list,  # default []
    tolerance=(float | percentage),  # default '0.01%'
    numbered_vars=list,  # default []
    instructor_vars=list,  # default []
    forbidden_strings=list,  # default []
    forbidden_message=str,  # default 'Invalid Input: This particular answer is forbidden'
    required_functions=list,  # default []
    metric_suffixes=bool,  # default False
)
</code></pre></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../../js/jquery-1.10.2.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../..';
    </script>
    <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
    <script src="../../js/base.js"></script>
    <script src="../../search/require.js"></script>
    <script src="../../search/search.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
